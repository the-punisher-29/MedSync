{"ast":null,"code":"function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nimport { useState, useCallback, useEffect } from \"react\";\nimport copy from \"copy-to-clipboard\";\n\n/**\n * React hook to copy content to clipboard\n *\n * @param text the text or value to copy\n * @param {Number} [optionsOrTimeout=1500] optionsOrTimeout - delay (in ms) to switch back to initial state once copied.\n * @param {Object} optionsOrTimeout\n * @param {string} optionsOrTimeout.format - set the desired MIME type\n * @param {number} optionsOrTimeout.timeout - delay (in ms) to switch back to initial state once copied.\n */\nexport function useClipboard(text, optionsOrTimeout) {\n  if (optionsOrTimeout === void 0) {\n    optionsOrTimeout = {};\n  }\n  var [hasCopied, setHasCopied] = useState(false);\n  var _ref = typeof optionsOrTimeout === \"number\" ? {\n      timeout: optionsOrTimeout\n    } : optionsOrTimeout,\n    {\n      timeout = 1500\n    } = _ref,\n    copyOptions = _objectWithoutPropertiesLoose(_ref, [\"timeout\"]);\n  var onCopy = useCallback(() => {\n    var didCopy = copy(text, copyOptions);\n    setHasCopied(didCopy);\n  }, [text, copyOptions]);\n  useEffect(() => {\n    var timeoutId = null;\n    if (hasCopied) {\n      timeoutId = window.setTimeout(() => {\n        setHasCopied(false);\n      }, timeout);\n    }\n    return () => {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId);\n      }\n    };\n  }, [timeout, hasCopied]);\n  return {\n    value: text,\n    onCopy,\n    hasCopied\n  };\n}","map":{"version":3,"sources":["../../src/use-clipboard.ts"],"names":["useState","useCallback","useEffect","copy","useClipboard","text","optionsOrTimeout","hasCopied","setHasCopied","timeout","copyOptions","onCopy","didCopy","timeoutId","setTimeout","window","clearTimeout","value"],"mappings":";;;;;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD;AACA,OAAOC,IAAP,MAAiB,mBAAjB;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,YAAT,CACLC,IADK,EAELC,gBAFK,EAGL;EAAA,IADAA,gBACA,KAAA,KAAA,CAAA,EAAA;IADAA,gBACA,GADiD,CAAA,CACjD;EAAA;EACA,IAAM,CAACC,SAAD,EAAYC,YAAZ,CAAA,GAA4BR,QAAQ,CAAC,KAAD,CAA1C;EAEA,IAAA,IAAA,GACE,OAAOM,gBAAP,KAA4B,QAA5B,GACI;MAAEG,OAAO,EAAEH;IAAX,CADJ,GAEIA,gBAHN;IAAM;MAAEG,OAAO,GAAG;IAAZ,CAAN,GAAA,IAAA;IAA2BC,WAA3B,GAAA,6BAAA,CAAA,IAAA,EAAA,CAAA,SAAA,CAAA,CAAA;EAKA,IAAMC,MAAM,GAAGV,WAAW,CAAC,MAAM;IAC/B,IAAMW,OAAO,GAAGT,IAAI,CAACE,IAAD,EAAOK,WAAP,CAApB;IACAF,YAAY,CAACI,OAAD,CAAZJ;EACD,CAHyB,EAGvB,CAACH,IAAD,EAAOK,WAAP,CAHuB,CAA1B;EAKAR,SAAS,CAAC,MAAM;IACd,IAAIW,SAAwB,GAAG,IAA/B;IAEA,IAAIN,SAAJ,EAAe;MACbM,SAAS,GAAG,MAAM,CAACC,UAAP,CAAkB,MAAM;QAClCN,YAAY,CAAC,KAAD,CAAZA;MACD,CAFW,EAETC,OAFS,CAAZI;IAGD;IAED,OAAO,MAAM;MACX,IAAIA,SAAJ,EAAe;QACbE,MAAM,CAACC,YAAPD,CAAoBF,SAApBE,CAAAA;MACD;IACF,CAJD;EAKD,CAdQ,EAcN,CAACN,OAAD,EAAUF,SAAV,CAdM,CAATL;EAgBA,OAAO;IAAEe,KAAK,EAAEZ,IAAT;IAAeM,MAAf;IAAuBJ;EAAvB,CAAP;AACD","sourcesContent":["import { useState, useCallback, useEffect } from \"react\"\nimport copy from \"copy-to-clipboard\"\n\nexport interface UseClipboardOptions {\n  /**\n   * timeout delay (in ms) to switch back to initial state once copied.\n   */\n  timeout?: number\n  /**\n   * Set the desired MIME type\n   */\n  format?: string\n}\n\n/**\n * React hook to copy content to clipboard\n *\n * @param text the text or value to copy\n * @param {Number} [optionsOrTimeout=1500] optionsOrTimeout - delay (in ms) to switch back to initial state once copied.\n * @param {Object} optionsOrTimeout\n * @param {string} optionsOrTimeout.format - set the desired MIME type\n * @param {number} optionsOrTimeout.timeout - delay (in ms) to switch back to initial state once copied.\n */\nexport function useClipboard(\n  text: string,\n  optionsOrTimeout: number | UseClipboardOptions = {},\n) {\n  const [hasCopied, setHasCopied] = useState(false)\n\n  const { timeout = 1500, ...copyOptions } =\n    typeof optionsOrTimeout === \"number\"\n      ? { timeout: optionsOrTimeout }\n      : optionsOrTimeout\n\n  const onCopy = useCallback(() => {\n    const didCopy = copy(text, copyOptions)\n    setHasCopied(didCopy)\n  }, [text, copyOptions])\n\n  useEffect(() => {\n    let timeoutId: number | null = null\n\n    if (hasCopied) {\n      timeoutId = window.setTimeout(() => {\n        setHasCopied(false)\n      }, timeout)\n    }\n\n    return () => {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId)\n      }\n    }\n  }, [timeout, hasCopied])\n\n  return { value: text, onCopy, hasCopied }\n}\n"]},"metadata":{},"sourceType":"module"}