{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport * as React from \"react\";\nexport function useWhyDidYouUpdate(name, props) {\n  var previousProps = React.useRef();\n  React.useEffect(() => {\n    if (previousProps.current) {\n      var allKeys = Object.keys(_extends({}, previousProps.current, props));\n      var changesObj = {};\n      allKeys.forEach(key => {\n        if (previousProps.current[key] !== props[key]) {\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key]\n          };\n        }\n      });\n      if (Object.keys(changesObj).length) {\n        console.log(\"[why-did-you-update]\", name, changesObj);\n      }\n    }\n    previousProps.current = props;\n  });\n}","map":{"version":3,"sources":["../../src/use-why-update.ts"],"names":["React","useWhyDidYouUpdate","name","props","previousProps","useRef","useEffect","current","allKeys","Object","keys","changesObj","forEach","key","from","to","length","console","log"],"mappings":";;;;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,OAAO,SAASC,kBAAT,CAA4BC,IAA5B,EAA0CC,KAA1C,EAAsD;EAC3D,IAAMC,aAAa,GAAGJ,KAAK,CAACK,MAANL,CAAAA,CAAtB;EAEAA,KAAK,CAACM,SAANN,CAAgB,MAAM;IACpB,IAAII,aAAa,CAACG,OAAlB,EAA2B;MACzB,IAAMC,OAAO,GAAGC,MAAM,CAACC,IAAPD,CAAAA,QAAAA,CAAAA,CAAAA,CAAAA,EAAiBL,aAAa,CAACG,OAA/BE,EAA2CN,KAA3CM,CAAAA,CAAhB;MACA,IAAME,UAAU,GAAG,CAAA,CAAnB;MACAH,OAAO,CAACI,OAARJ,CAAiBK,GAAD,IAAS;QACvB,IAAIT,aAAa,CAACG,OAAdH,CAAsBS,GAAtBT,CAAAA,KAA+BD,KAAK,CAACU,GAAD,CAAxC,EAA+C;UAC7CF,UAAU,CAACE,GAAD,CAAVF,GAAkB;YAChBG,IAAI,EAAEV,aAAa,CAACG,OAAdH,CAAsBS,GAAtBT,CADU;YAEhBW,EAAE,EAAEZ,KAAK,CAACU,GAAD;UAFO,CAAlBF;QAID;MACF,CAPDH,CAAAA;MASA,IAAIC,MAAM,CAACC,IAAPD,CAAYE,UAAZF,CAAAA,CAAwBO,MAA5B,EAAoC;QAClCC,OAAO,CAACC,GAARD,CAAY,sBAAZA,EAAoCf,IAApCe,EAA0CN,UAA1CM,CAAAA;MACD;IACF;IAEDb,aAAa,CAACG,OAAdH,GAAwBD,KAAxBC;EACD,CAnBDJ,CAAAA;AAoBD","sourcesContent":["import * as React from \"react\"\n\nexport function useWhyDidYouUpdate(name: string, props: any) {\n  const previousProps = React.useRef<any>()\n\n  React.useEffect(() => {\n    if (previousProps.current) {\n      const allKeys = Object.keys({ ...previousProps.current, ...props })\n      const changesObj = {}\n      allKeys.forEach((key) => {\n        if (previousProps.current[key] !== props[key]) {\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key],\n          }\n        }\n      })\n\n      if (Object.keys(changesObj).length) {\n        console.log(\"[why-did-you-update]\", name, changesObj)\n      }\n    }\n\n    previousProps.current = props\n  })\n}\n"]},"metadata":{},"sourceType":"module"}